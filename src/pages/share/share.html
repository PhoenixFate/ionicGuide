<!--
  Generated template for the SharePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title></ion-title>
    <div class='my-share-camera' (click)='share()'>
      <img src="assets/imgs/camera.png" alt="">
    </div>
  </ion-navbar>

</ion-header>


<ion-content>
  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content pullingIcon="arrow-dropdown" pullingText="下拉刷新" refreshingSpinner="circles"
      refreshingText="正在刷新...">
    </ion-refresher-content>
  </ion-refresher>

  <div class='my-share-item clearfix' *ngFor='let item of shares;let i=index'>
    <div class='my-share-left'>
      <img [src]='item.tblRegistrar.image' alt="">
    </div>
    <div class='my-share-right'>
      <div (click)='toShareDetail(i)'>
        <div class='my-share-username'>{{item.tblRegistrar.nickname?item.tblRegistrar.nickname:item.tblRegistrar.username}}</div>
        <div class='my-share-content'>{{item.content}}</div>
      </div>
      <div class='my-share-images clearfix'>
        <div *ngFor='let img of item.images;let j=index'>
          <div class='my-share-image' *ngIf='item.images.length!=3 && item.images.length!=4 && item.images.length!=1' (click)='openModal(i,j)'>
            <img src="{{img}}" alt="">
          </div>
          <div class='my-share-image-34' *ngIf='item.images.length==3 || item.images.length==4' (click)='openModal(i,j)'>
            <img src="{{img}}" alt="">
          </div>
          <div class='my-share-image-1' *ngIf='item.images.length==1' (click)='openModal(i,j)'>
            <img src="{{img}}" alt="">
          </div>
        </div>

      </div>
      <div class='my-share-datetime'>
        {{item.updateDate}}
      </div>
    </div>
  </div>

  <ion-infinite-scroll (ionInfinite)='doInfinite($event)'>
    <ion-infinite-scroll-content loadingSpinner='bubbles' loadingText='正在加载'></ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>
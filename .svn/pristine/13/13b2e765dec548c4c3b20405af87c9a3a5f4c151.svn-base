import { Component, ViewChild, ElementRef} from '@angular/core';
import { NavController } from 'ionic-angular';

declare var BMap;

@Component({
  selector: 'page-home',
  templateUrl: 'home.html'
})
export class HomePage {

  @ViewChild('map') map_container:ElementRef;
  map:any;
  marker:any;
  constructor(public navCtrl: NavController) {

  }

  ionViewDidEnter(){
    //创建百度Map实例
    let map=this.map=new BMap.Map(this.map_container.nativeElement,{enableClick:true});
    //添加控件
    map.addControl(new BMap.NavigationControl());
    map.addControl(new BMap.ScaleControl());
    map.addControl(new BMap.OverviewMapControl());
    map.addControl(new BMap.MapTypeControl());

    let point=new BMap.Point(116.404, 39.915);
    //设置中心点
    map.centerAndZoom(point,15);

    //启动滚动放大缩小，默认禁用
    map.enableScrollWheelZoom(true);
  }

}
